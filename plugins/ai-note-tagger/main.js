/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var w=Object.defineProperty;var Z=Object.getOwnPropertyDescriptor;var Q=Object.getOwnPropertyNames;var X=Object.prototype.hasOwnProperty;var g=(o,e)=>()=>(o&&(e=o(o=0)),e);var E=(o,e)=>{for(var t in e)w(o,t,{get:e[t],enumerable:!0})},ee=(o,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Q(e))!X.call(o,i)&&i!==t&&w(o,i,{get:()=>e[i],enumerable:!(n=Z(e,i))||n.enumerable});return o};var z=o=>ee(w({},"__esModule",{value:!0}),o);var h=g(()=>{});var K={};E(K,{DEFAULT_SETTINGS:()=>L,MODEL_CONFIGS:()=>d,PROMPT_TEMPLATES:()=>f});var f,d,L,A=g(()=>{h();f={standard:`Generate {maxTags} relevant tags for the following note content. Return only the tags as a comma-separated list, without any additional commentary. Tags should be lowercase and use hyphens for multi-word tags.

Content:
{content}`,descriptive:`Analyze the following note content and generate {maxTags} descriptive tags that capture the main topics, concepts, and themes. Return only the tags as a comma-separated list, without any additional commentary. Tags should be lowercase and use hyphens for multi-word tags.

Content:
{content}`,academic:`Review the following academic or research note and generate {maxTags} specific tags that would help categorize this content in an academic context. Include relevant field-specific terminology. Return only the tags as a comma-separated list, without any additional commentary. Tags should be lowercase and use hyphens for multi-word tags.

Content:
{content}`,concise:`Generate {maxTags} short, concise tags for the following note content. Focus on single-word tags when possible. Return only the tags as a comma-separated list, without any additional commentary. Tags should be lowercase.

Content:
{content}`,custom:""},d={anthropic:{apiUrl:"https://api.anthropic.com/v1/messages",models:[{id:"claude-3-5-sonnet-20240620",name:"Claude 3.5 Sonnet"},{id:"claude-3-opus-20240229",name:"Claude 3 Opus"},{id:"claude-3-sonnet-20240229",name:"Claude 3 Sonnet"},{id:"claude-3-haiku-20240307",name:"Claude 3 Haiku"}],defaultModel:"claude-3-5-sonnet-20240620",apiKeyUrl:"https://console.anthropic.com/"},openai:{apiUrl:"https://api.openai.com/v1/chat/completions",models:[{id:"gpt-4o",name:"GPT-4o"},{id:"gpt-4-turbo",name:"GPT-4 Turbo"},{id:"gpt-4",name:"GPT-4"},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo"}],defaultModel:"gpt-3.5-turbo",apiKeyUrl:"https://platform.openai.com/api-keys"},mistral:{apiUrl:"https://api.mistral.ai/v1/chat/completions",models:[{id:"mistral-large-latest",name:"Mistral Large"},{id:"mistral-medium-latest",name:"Mistral Medium"},{id:"mistral-small-latest",name:"Mistral Small"},{id:"open-mistral-7b",name:"Open Mistral 7B"}],defaultModel:"mistral-small-latest",apiKeyUrl:"https://console.mistral.ai/api-keys/"},google:{apiUrl:"https://generativelanguage.googleapis.com/v1beta/models/",models:[{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro"},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash"},{id:"gemini-1.0-pro",name:"Gemini 1.0 Pro"}],defaultModel:"gemini-1.5-flash",apiKeyUrl:"https://aistudio.google.com/app/apikey"},custom:{apiUrl:"",models:[{id:"custom-model",name:"Custom Model"}],defaultModel:"custom-model",apiKeyUrl:""}},L={serviceType:"Cloud Service",provider:"anthropic",apiKey:"",modelName:d.anthropic.defaultModel,maxTags:5,promptOption:"standard",promptTemplate:f.standard,customEndpoint:""}});var R,U=g(()=>{R={settings:{title:"\u0625\u0639\u062F\u0627\u062F\u0627\u062A AI Tagger",provider:{title:"\u0645\u0632\u0648\u062F \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A",desc:"\u0627\u062E\u062A\u0631 \u0645\u0632\u0648\u062F \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A \u0644\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A.",anthropic:"Anthropic (Claude)",openai:"OpenAI (GPT)",mistral:"Mistral AI",google:"Google (Gemini)",custom:"\u0646\u0642\u0637\u0629 \u0646\u0647\u0627\u064A\u0629 \u0645\u062E\u0635\u0635\u0629 (\u0645\u062A\u0648\u0627\u0641\u0642\u0629 \u0645\u0639 OpenAI)"},customEndpoint:{title:"\u0646\u0642\u0637\u0629 \u0646\u0647\u0627\u064A\u0629 API \u0645\u062E\u0635\u0635\u0629",desc:"\u0623\u062F\u062E\u0644 \u0639\u0646\u0648\u0627\u0646 URL \u0644\u0646\u0642\u0637\u0629 \u0646\u0647\u0627\u064A\u0629 API \u0627\u0644\u0645\u062A\u0648\u0627\u0641\u0642\u0629 \u0645\u0639 OpenAI.",placeholder:"https://your-api-endpoint.com/v1/chat/completions"},apiKey:{title:"\u0645\u0641\u062A\u0627\u062D API",desc:"\u0645\u0641\u062A\u0627\u062D API \u0627\u0644\u062E\u0627\u0635 \u0628\u0640 {provider}. \u0645\u0637\u0644\u0648\u0628 \u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u062E\u062F\u0645\u0629 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A.",getKey:"\u0627\u062D\u0635\u0644 \u0639\u0644\u064A\u0647 \u0645\u0646 {url} \u0625\u0630\u0627 \u0644\u0645 \u064A\u0643\u0646 \u0644\u062F\u064A\u0643 \u0648\u0627\u062D\u062F \u0628\u0627\u0644\u0641\u0639\u0644.",recommendation:"\u0646\u0648\u0635\u064A \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0645\u0641\u062A\u0627\u062D \u0645\u062E\u0635\u0635 \u0644\u0647\u0630\u0627 \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062C \u0627\u0644\u0645\u0633\u0627\u0639\u062F.",placeholder:"\u0623\u062F\u062E\u0644 \u0645\u0641\u062A\u0627\u062D API \u0627\u0644\u062E\u0627\u0635 \u0628\u0643"},model:{title:"\u0646\u0645\u0648\u0630\u062C \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A",desc:"\u0627\u062E\u062A\u0631 \u0646\u0645\u0648\u0630\u062C \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0644\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A.",custom:"{model} (\u0645\u062E\u0635\u0635)"},maxTags:{title:"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0639\u062F\u062F \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A",desc:"\u062D\u062F\u062F \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0639\u062F\u062F \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A \u0644\u0625\u0646\u0634\u0627\u0626\u0647\u0627 \u0644\u0643\u0644 \u0645\u0644\u0627\u062D\u0638\u0629."},promptStyle:{title:"\u0646\u0645\u0637 \u0627\u0644\u0645\u0637\u0627\u0644\u0628\u0629",desc:"\u0627\u062E\u062A\u0631 \u0646\u0645\u0637 \u0645\u0637\u0627\u0644\u0628\u0629 \u0645\u062D\u062F\u062F \u0645\u0633\u0628\u0642\u064B\u0627 \u0623\u0648 \u0642\u0645 \u0628\u0625\u0646\u0634\u0627\u0621 \u0645\u0637\u0627\u0644\u0628\u0629 \u0645\u062E\u0635\u0635\u0629 \u062E\u0627\u0635\u0629 \u0628\u0643.",standard:"\u0642\u064A\u0627\u0633\u064A",descriptive:"\u0648\u0635\u0641\u064A",academic:"\u0623\u0643\u0627\u062F\u064A\u0645\u064A",concise:"\u0645\u0648\u062C\u0632",custom:"\u0645\u062E\u0635\u0635"},customPrompt:{title:"\u0642\u0627\u0644\u0628 \u0645\u0637\u0627\u0644\u0628\u0629 \u0645\u062E\u0635\u0635",desc:"\u0642\u0645 \u0628\u062A\u062E\u0635\u064A\u0635 \u0627\u0644\u0645\u0637\u0627\u0644\u0628\u0629 \u0627\u0644\u0645\u0631\u0633\u0644\u0629 \u0625\u0644\u0649 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A. \u0627\u0633\u062A\u062E\u062F\u0645 {maxTags} \u0648 {content} \u0643\u0639\u0646\u0627\u0635\u0631 \u0646\u0627\u0626\u0628\u0629."},currentPrompt:{title:"\u0642\u0627\u0644\u0628 \u0627\u0644\u0645\u0637\u0627\u0644\u0628\u0629 \u0627\u0644\u062D\u0627\u0644\u064A",desc:"\u0647\u0630\u0627 \u0647\u0648 \u0642\u0627\u0644\u0628 \u0627\u0644\u0645\u0637\u0627\u0644\u0628\u0629 \u0627\u0644\u0630\u064A \u0633\u064A\u062A\u0645 \u0627\u0633\u062A\u062E\u062F\u0627\u0645\u0647 (\u0644\u0644\u0642\u0631\u0627\u0621\u0629 \u0641\u0642\u0637). \u0642\u0645 \u0628\u0627\u0644\u062A\u0628\u062F\u064A\u0644 \u0625\u0644\u0649 \u0645\u062E\u0635\u0635 \u0625\u0630\u0627 \u0643\u0646\u062A \u062A\u0631\u063A\u0628 \u0641\u064A \u062A\u0639\u062F\u064A\u0644\u0647."},language:{title:"\u0627\u0644\u0644\u063A\u0629",desc:"\u0627\u062E\u062A\u0631 \u0644\u063A\u0629 \u0648\u0627\u062C\u0647\u0629 \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062C \u0627\u0644\u0645\u0633\u0627\u0639\u062F."}},modals:{confirm:"\u062A\u0623\u0643\u064A\u062F",cancel:"\u0625\u0644\u063A\u0627\u0621",settings:"\u0641\u062A\u062D \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A",configError:"\u062E\u0637\u0623 \u0641\u064A \u062A\u0643\u0648\u064A\u0646 \u0639\u0644\u0627\u0645\u0627\u062A \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A",tagAll:"\u0633\u064A\u0642\u0648\u0645 \u0647\u0630\u0627 \u0628\u0648\u0636\u0639 \u0639\u0644\u0627\u0645\u0627\u062A \u0639\u0644\u0649 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0641\u064A \u062E\u0632\u0627\u0646\u062A\u0643 \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0646\u0645\u0648\u0630\u062C {model}. \u0642\u062F \u064A\u0633\u062A\u063A\u0631\u0642 \u0647\u0630\u0627 \u0628\u0639\u0636 \u0627\u0644\u0648\u0642\u062A \u0648\u064A\u0633\u062A\u0647\u0644\u0643 \u0631\u0635\u064A\u062F API. \u0647\u0644 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629\u061F"},notices:{noActiveNote:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0644\u0627\u062D\u0638\u0629 \u0646\u0634\u0637\u0629 \u0644\u0644\u062A\u0639\u0644\u064A\u0645",analyzing:"\u062A\u062D\u0644\u064A\u0644 \u0645\u062D\u062A\u0648\u0649 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629 \u0648\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A...",tagSuccess:"\u062A\u0645\u062A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A \u0628\u0646\u062C\u0627\u062D: {tags}",tagError:"\u062E\u0637\u0623 \u0641\u064A \u0648\u0636\u0639 \u0639\u0644\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629: {error}",startingBulk:"\u0628\u062F\u0621 \u0648\u0636\u0639 \u0639\u0644\u0627\u0645\u0627\u062A \u0639\u0644\u0649 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A...",processingNote:`\u0645\u0639\u0627\u0644\u062C\u0629: {file}
\u0627\u0644\u062A\u0642\u062F\u0645: {processed}/{total} ({successful} \u0646\u0627\u062C\u062D)`,bulkComplete:"\u0627\u0643\u062A\u0645\u0644 \u0648\u0636\u0639 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A: {successful}/{total} \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0628\u0646\u062C\u0627\u062D",bulkError:"\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0648\u0636\u0639 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A \u0628\u0627\u0644\u062C\u0645\u0644\u0629: {error}"},errors:{apiKeyMissing:"\u0645\u0641\u062A\u0627\u062D API \u063A\u064A\u0631 \u0645\u0643\u0648\u0651\u0646. \u064A\u0631\u062C\u0649 \u0625\u0636\u0627\u0641\u0629 \u0645\u0641\u062A\u0627\u062D API \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 \u0641\u064A \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062C \u0627\u0644\u0645\u0633\u0627\u0639\u062F.",endpointMissing:"\u0646\u0642\u0637\u0629 \u0646\u0647\u0627\u064A\u0629 API \u0627\u0644\u0645\u062E\u0635\u0635\u0629 \u063A\u064A\u0631 \u0645\u0643\u0648\u0651\u0646\u0629. \u064A\u0631\u062C\u0649 \u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0648\u0627\u0646 URL \u0627\u0644\u062E\u0627\u0635 \u0628\u0646\u0642\u0637\u0629 \u0627\u0644\u0646\u0647\u0627\u064A\u0629 \u0641\u064A \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062C \u0627\u0644\u0645\u0633\u0627\u0639\u062F.",apiError:"\u0641\u0634\u0644 \u0641\u064A \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A: {error}",unknownProvider:"\u0645\u0632\u0648\u062F \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641: {provider}"},commands:{tagCurrent:"\u0648\u0636\u0639 \u0639\u0644\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A",tagAll:"\u0648\u0636\u0639 \u0639\u0644\u0627\u0645\u0627\u062A \u0639\u0644\u0649 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A"},ribbon:{tooltip:"\u0648\u0636\u0639 \u0639\u0644\u0627\u0645\u0627\u062A \u062A\u0644\u0642\u0627\u0626\u064A\u0629 \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A"}}});var $,B=g(()=>{$={settings:{title:"AI Tagger Einstellungen",provider:{title:"KI-Anbieter",desc:"W\xE4hlen Sie, welchen KI-Anbieter Sie f\xFCr die Generierung von Tags verwenden m\xF6chten.",anthropic:"Anthropic (Claude)",openai:"OpenAI (GPT)",mistral:"Mistral AI",google:"Google (Gemini)",custom:"Benutzerdefinierter Endpunkt (OpenAI-kompatibel)"},customEndpoint:{title:"Benutzerdefinierter API-Endpunkt",desc:"Geben Sie die URL f\xFCr Ihren benutzerdefinierten OpenAI-kompatiblen API-Endpunkt ein.",placeholder:"https://your-api-endpoint.com/v1/chat/completions"},apiKey:{title:"API-Schl\xFCssel",desc:"Ihr {provider} API-Schl\xFCssel. Erforderlich, um den KI-Dienst zu nutzen.",getKey:"Holen Sie ihn von {url}, wenn Sie noch keinen haben.",recommendation:"Wir empfehlen, einen dedizierten Schl\xFCssel f\xFCr dieses Plugin zu verwenden.",placeholder:"Geben Sie Ihren API-Schl\xFCssel ein"},model:{title:"KI-Modell",desc:"W\xE4hlen Sie, welches KI-Modell f\xFCr die Tag-Generierung verwendet werden soll.",custom:"{model} (Benutzerdefiniert)"},maxTags:{title:"Maximale Anzahl an Tags",desc:"Legen Sie die maximale Anzahl an Tags fest, die pro Notiz generiert werden sollen."},promptStyle:{title:"Prompt-Stil",desc:"W\xE4hlen Sie einen vordefinierten Prompt-Stil oder erstellen Sie Ihren eigenen benutzerdefinierten Prompt.",standard:"Standard",descriptive:"Beschreibend",academic:"Akademisch",concise:"Pr\xE4gnant",custom:"Benutzerdefiniert"},customPrompt:{title:"Benutzerdefinierte Prompt-Vorlage",desc:"Passen Sie den an die KI gesendeten Prompt an. Verwenden Sie {maxTags} und {content} als Platzhalter."},currentPrompt:{title:"Aktuelle Prompt-Vorlage",desc:"Dies ist die Prompt-Vorlage, die verwendet wird (schreibgesch\xFCtzt). Wechseln Sie zu Benutzerdefiniert, wenn Sie sie bearbeiten m\xF6chten."},language:{title:"Sprache",desc:"W\xE4hlen Sie die Sprache f\xFCr die Plugin-Oberfl\xE4che."}},modals:{confirm:"Best\xE4tigen",cancel:"Abbrechen",settings:"Einstellungen \xF6ffnen",configError:"KI-Tagging Konfigurationsfehler",tagAll:"Dies wird alle Notizen in Ihrem Vault mit dem Modell {model} taggen. Dies kann einige Zeit dauern und API-Guthaben verbrauchen. M\xF6chten Sie fortfahren?"},notices:{noActiveNote:"Keine aktive Notiz zum Taggen",analyzing:"Analysiere Notizinhalt und generiere Tags...",tagSuccess:"Tags erfolgreich hinzugef\xFCgt: {tags}",tagError:"Fehler beim Taggen der Notiz: {error}",startingBulk:"Beginne mit dem Taggen von Notizen...",processingNote:`Verarbeite: {file}
Fortschritt: {processed}/{total} ({successful} erfolgreich)`,bulkComplete:"Tagging von {successful}/{total} Notizen erfolgreich abgeschlossen",bulkError:"Fehler beim Massen-Tagging: {error}"},errors:{apiKeyMissing:"API-Schl\xFCssel nicht konfiguriert. Bitte f\xFCgen Sie Ihren API-Schl\xFCssel in den Plugin-Einstellungen hinzu.",endpointMissing:"Benutzerdefinierter API-Endpunkt nicht konfiguriert. Bitte f\xFCgen Sie Ihre Endpunkt-URL in den Plugin-Einstellungen hinzu.",apiError:"Fehler beim Generieren von Tags: {error}",unknownProvider:"Unbekannter Anbieter: {provider}"},commands:{tagCurrent:"Aktuelle Notiz mit KI taggen",tagAll:"Alle Notizen mit KI taggen"},ribbon:{tooltip:"Auto-Tagging mit KI"}}});var V,q=g(()=>{V={settings:{title:"AI Tagger Settings",provider:{title:"AI Provider",desc:"Select which AI provider to use for generating tags.",anthropic:"Anthropic (Claude)",openai:"OpenAI (GPT)",mistral:"Mistral AI",google:"Google (Gemini)",custom:"Custom Endpoint (OpenAI Compatible)"},customEndpoint:{title:"Custom API Endpoint",desc:"Enter the URL for your custom OpenAI-compatible API endpoint.",placeholder:"https://your-api-endpoint.com/v1/chat/completions"},apiKey:{title:"API Key",desc:"Your {provider} API key. Required to use the AI service.",getKey:"Get it from {url} if you don't have one already.",recommendation:"We recommend using a dedicated key for this plugin.",placeholder:"Enter your API key"},model:{title:"AI Model",desc:"Choose which AI model to use for tag generation.",custom:"{model} (Custom)"},maxTags:{title:"Maximum number of tags",desc:"Set the maximum number of tags to generate per note."},promptStyle:{title:"Prompt Style",desc:"Choose a predefined prompt style or create your own custom prompt.",standard:"Standard",descriptive:"Descriptive",academic:"Academic",concise:"Concise",custom:"Custom"},customPrompt:{title:"Custom prompt template",desc:"Customize the prompt sent to the AI. Use {maxTags} and {content} as placeholders."},currentPrompt:{title:"Current prompt template",desc:"This is the prompt template that will be used (read-only). Switch to Custom if you want to edit it."},language:{title:"Language",desc:"Choose the language for the plugin interface."}},modals:{confirm:"Confirm",cancel:"Cancel",settings:"Open settings",configError:"AI tagging configuration error",tagAll:"This will tag all notes in your vault using the {model} model. This may take a while and consume API credits. Do you want to continue?"},notices:{noActiveNote:"No active note to tag",analyzing:"Analyzing note content and generating tags...",tagSuccess:"Successfully added tags: {tags}",tagError:"Error tagging note: {error}",startingBulk:"Starting to tag notes...",processingNote:`Processing: {file}
Progress: {processed}/{total} ({successful} successful)`,bulkComplete:"Completed tagging {successful}/{total} notes successfully",bulkError:"Error during bulk tagging: {error}"},errors:{apiKeyMissing:"API key not configured. Please add your API key in the plugin settings.",endpointMissing:"Custom API endpoint not configured. Please add your endpoint URL in the plugin settings.",apiError:"Failed to generate tags: {error}",unknownProvider:"Unknown provider: {provider}"},commands:{tagCurrent:"Tag current note with AI",tagAll:"Tag all notes with AI"},ribbon:{tooltip:"Auto-tag with AI"}}});var _,j=g(()=>{_={settings:{title:"Configuraci\xF3n de AI Tagger",provider:{title:"Proveedor de IA",desc:"Seleccione qu\xE9 proveedor de IA usar para generar etiquetas.",anthropic:"Anthropic (Claude)",openai:"OpenAI (GPT)",mistral:"Mistral AI",google:"Google (Gemini)",custom:"Endpoint personalizado (Compatible con OpenAI)"},customEndpoint:{title:"Endpoint API Personalizado",desc:"Ingrese la URL para su endpoint API compatible con OpenAI.",placeholder:"https://your-api-endpoint.com/v1/chat/completions"},apiKey:{title:"Clave API",desc:"Su clave API de {provider}. Necesaria para usar el servicio de IA.",getKey:"Obt\xE9ngala desde {url} si a\xFAn no tiene una.",recommendation:"Recomendamos usar una clave dedicada para este plugin.",placeholder:"Ingrese su clave API"},model:{title:"Modelo de IA",desc:"Elija qu\xE9 modelo de IA usar para generar etiquetas.",custom:"{model} (Personalizado)"},maxTags:{title:"N\xFAmero m\xE1ximo de etiquetas",desc:"Establezca el n\xFAmero m\xE1ximo de etiquetas a generar por nota."},promptStyle:{title:"Estilo de prompt",desc:"Elija un estilo de prompt predefinido o cree su propio prompt personalizado.",standard:"Est\xE1ndar",descriptive:"Descriptivo",academic:"Acad\xE9mico",concise:"Conciso",custom:"Personalizado"},customPrompt:{title:"Plantilla de prompt personalizada",desc:"Personalice el prompt enviado a la IA. Use {maxTags} y {content} como marcadores de posici\xF3n."},currentPrompt:{title:"Plantilla de prompt actual",desc:"Esta es la plantilla de prompt que se utilizar\xE1 (solo lectura). Cambie a Personalizado si desea editarla."},language:{title:"Idioma",desc:"Elija el idioma para la interfaz del plugin."}},modals:{confirm:"Confirmar",cancel:"Cancelar",settings:"Abrir configuraci\xF3n",configError:"Error de configuraci\xF3n de etiquetado IA",tagAll:"Esto etiquetar\xE1 todas las notas en su b\xF3veda usando el modelo {model}. Esto puede llevar tiempo y consumir cr\xE9ditos de API. \xBFDesea continuar?"},notices:{noActiveNote:"No hay nota activa para etiquetar",analyzing:"Analizando contenido de la nota y generando etiquetas...",tagSuccess:"Etiquetas a\xF1adidas con \xE9xito: {tags}",tagError:"Error al etiquetar nota: {error}",startingBulk:"Comenzando a etiquetar notas...",processingNote:`Procesando: {file}
Progreso: {processed}/{total} ({successful} exitosas)`,bulkComplete:"Etiquetado completado: {successful}/{total} notas con \xE9xito",bulkError:"Error durante el etiquetado masivo: {error}"},errors:{apiKeyMissing:"Clave API no configurada. Por favor, a\xF1ada su clave API en la configuraci\xF3n del plugin.",endpointMissing:"Endpoint API personalizado no configurado. Por favor, a\xF1ada su URL de endpoint en la configuraci\xF3n del plugin.",apiError:"Error al generar etiquetas: {error}",unknownProvider:"Proveedor desconocido: {provider}"},commands:{tagCurrent:"Etiquetar nota actual con IA",tagAll:"Etiquetar todas las notas con IA"},ribbon:{tooltip:"Auto-etiquetar con IA"}}});var m,ze,Ke,W,x=g(()=>{U();B();q();j();m={ar:R,de:$,en:V,es:_},ze=Object.keys(m),Ke=Object.entries(m).map(([o])=>({code:o})),W={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",de:"Deutsch",en:"English",es:"Espa\xF1ol"}});var O,r,H=g(()=>{x();O=class{constructor(){this.currentLanguage="en";this.app=null;this.boundCheckForLanguageChanges=null;let e=window.navigator.language.split("-")[0];this.isLanguageSupported(e)&&(this.currentLanguage=e)}initializeApp(e){this.app=e,this.boundCheckForLanguageChanges=this.checkForLanguageChanges.bind(this),this.app.workspace.on("layout-change",this.boundCheckForLanguageChanges)}cleanup(){this.app&&this.boundCheckForLanguageChanges&&(this.app.workspace.off("layout-change",this.boundCheckForLanguageChanges),this.boundCheckForLanguageChanges=null)}checkForLanguageChanges(){if(!this.app)return;let e=this.getObsidianLanguage();e!==this.currentLanguage&&this.setLanguage(e)}getObsidianLanguage(){if(!this.app)return"en";let e=this.app.vault.getConfig("language")||"en",t=this.normalizeLanguageCode(e);return this.isLanguageSupported(t)?t:"en"}normalizeLanguageCode(e){return{"zh-cn":"zh","zh-hans":"zh","zh-hant":"zh-TW","pt-pt":"pt","pt-br":"pt-BR"}[e.toLowerCase()]||e}setLanguage(e){this.isLanguageSupported(e)?this.currentLanguage=e:(console.warn(`Language ${e} is not supported. Falling back to English.`),this.currentLanguage="en")}getCurrentLanguage(){return this.currentLanguage}t(e,t){let n=this.getLocale(),i=e.split(".").reduce((s,a)=>s&&typeof s=="object"?s[a]:void 0,n);return typeof i!="string"?(console.warn(`Translation key "${e}" not found. Falling back to key.`),e):t?Object.entries(t).reduce((s,[a,c])=>s.replace(new RegExp(`{${a}}`,"g"),c),i):i}isLanguageSupported(e){return Object.keys(m).includes(e)}getLocale(){return m[this.currentLanguage]||m.en}},r=new O});var M={};E(M,{i18n:()=>r,languageNames:()=>W});var v=g(()=>{H();x()});var pe={};E(pe,{default:()=>de});module.exports=z(pe);var y=require("obsidian");A();var I=require("obsidian");A();h();async function N(o,e){te(e);let t=e.promptTemplate.replace("{maxTags}",e.maxTags.toString()).replace("{content}",o);try{return(await ne(e,t)).split(",").map(i=>i.trim()).filter(i=>i.length>0)}catch(n){console.error(`Error calling ${e.provider} API:`,n);let i=n instanceof Error?n.message:String(n);throw new Error(`Failed to generate tags: ${i}`)}}function te(o){if(!o.apiKey)throw new Error("API key not configured. Please add your API key in the plugin settings.");if(o.provider==="custom"&&!o.customEndpoint)throw new Error("Custom API endpoint not configured. Please add your endpoint URL in the plugin settings.")}async function ne(o,e){let t=d[o.provider];switch(o.provider){case"anthropic":return await ie(o,e,t.apiUrl);case"openai":case"mistral":case"custom":let n=o.provider==="custom"?o.customEndpoint:t.apiUrl;return await oe(o,e,n);case"google":return await re(o,e,t.apiUrl);default:throw new Error(`Unknown provider: ${o.provider}`)}}async function ie(o,e,t){let n=await(0,I.requestUrl)({url:t,method:"POST",headers:{"Content-Type":"application/json","x-api-key":o.apiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:o.modelName,max_tokens:1e3,messages:[{role:"user",content:e}]})});if(n.status!==200)throw new Error(`API returned status code ${n.status}: ${JSON.stringify(n.json)}`);return n.json.content[0].text}async function oe(o,e,t){let n=await(0,I.requestUrl)({url:t,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.apiKey}`},body:JSON.stringify({model:o.modelName,messages:[{role:"user",content:e}],max_tokens:1e3,temperature:.3})});if(n.status!==200)throw new Error(`API returned status code ${n.status}: ${JSON.stringify(n.json)}`);return n.json.choices[0].message.content}async function re(o,e,t){let n=`${t}${o.modelName}:generateContent?key=${o.apiKey}`,i=await(0,I.requestUrl)({url:n,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:[{text:e}]}],generationConfig:{temperature:.2,maxOutputTokens:1e3}})});if(i.status!==200)throw new Error(`API returned status code ${i.status}: ${JSON.stringify(i.json)}`);return i.json.candidates[0].content.parts[0].text}async function G(o,e,t){await o.fileManager.processFrontMatter(e,n=>{n.tags?(typeof n.tags=="string"?n.tags=[n.tags,...t]:Array.isArray(n.tags)&&(n.tags=[...n.tags,...t]),n.tags=[...new Set(n.tags)]):n.tags=t})}async function D(o,e,t){try{let n=await o.vault.read(e),i=await N(n,t);return await G(o,e,i),{file:e,tags:i,success:!0}}catch(n){console.error(`Error tagging note ${e.path}:`,n);let i=n instanceof Error?n.message:String(n);return{file:e,tags:[],success:!1,error:i}}}async function F(o,e,t){let n=o.vault.getMarkdownFiles(),i=0,s=0;for(let a of n){try{t&&t(i,s,n.length,a.path);let c=await o.vault.read(a),S=await N(c,e);await G(o,a,S),s++}catch(c){console.error(`Error tagging note ${a.path}:`,c)}i++}return{successful:s,total:n.length}}var b=require("obsidian"),p=class{static showPersistentNotice(e,t={}){let n={...this.defaultOptions,...t},i=new b.Notice(e,0);return{notice:i,setSuccess:s=>{i.setMessage(s),setTimeout(()=>i.hide(),n.duration)},setError:s=>{i.setMessage(s),setTimeout(()=>i.hide(),n.errorDuration)},setProgress:(s,a,c,S)=>{i.setMessage(`Processing: ${S}
Progress: ${s}/${c} (${a} successful)`)}}}static showNotice(e,t=3e3){return new b.Notice(e,t)}static showError(e,t=5e3){return new b.Notice(e,t)}};p.defaultOptions={duration:3e3,errorDuration:5e3};var l=require("obsidian");v();A();h();var T=class extends l.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){let{containerEl:e}=this;e.empty(),this.addProviderSection(e),this.addApiSection(e),this.addTaggingOptionsSection(e),this.addPromptSection(e)}addProviderSection(e){new l.Setting(e),new l.Setting(e).setName(r.t("settings.provider.title")).setDesc(r.t("settings.provider.desc")).addDropdown(t=>(t.addOption("anthropic",r.t("settings.provider.anthropic")).addOption("openai",r.t("settings.provider.openai")).addOption("mistral",r.t("settings.provider.mistral")).addOption("google",r.t("settings.provider.google")).addOption("custom",r.t("settings.provider.custom")).setValue(this.plugin.settings.provider).onChange(async n=>{let i=n;this.plugin.settings.provider=i,i!=="custom"&&(this.plugin.settings.modelName=d[i].defaultModel),await this.plugin.saveSettings(),this.display()}),t)),this.plugin.settings.provider==="custom"&&new l.Setting(e).setName(r.t("settings.customEndpoint.title")).setDesc(r.t("settings.customEndpoint.desc")).addText(t=>t.setPlaceholder(r.t("settings.customEndpoint.placeholder")).setValue(this.plugin.settings.customEndpoint).onChange(async n=>{this.plugin.settings.customEndpoint=n,await this.plugin.saveSettings()}))}addApiSection(e){let t=d[this.plugin.settings.provider],n=this.plugin.settings.provider==="custom"?"":this.plugin.settings.provider;new l.Setting(e).setName(r.t("settings.apiKey.title")).setDesc(r.t("settings.apiKey.desc",{provider:n})+" "+(t.apiKeyUrl?r.t("settings.apiKey.getKey",{url:t.apiKeyUrl}):"")+" "+r.t("settings.apiKey.recommendation")).addText(i=>i.setPlaceholder(r.t("settings.apiKey.placeholder")).setValue(this.plugin.settings.apiKey).onChange(async s=>{this.plugin.settings.apiKey=s,await this.plugin.saveSettings()})),new l.Setting(e).setName(r.t("settings.model.title")).setDesc(r.t("settings.model.desc")).addDropdown(i=>(t.models.forEach(s=>{i.addOption(s.id,s.name)}),t.models.some(s=>s.id===this.plugin.settings.modelName)||i.addOption(this.plugin.settings.modelName,r.t("settings.model.custom",{model:this.plugin.settings.modelName})),i.setValue(this.plugin.settings.modelName).onChange(async s=>{this.plugin.settings.modelName=s,await this.plugin.saveSettings()}),i))}addTaggingOptionsSection(e){new l.Setting(e).setName(r.t("settings.maxTags.title")).setDesc(r.t("settings.maxTags.desc")).addSlider(t=>t.setLimits(1,20,1).setValue(this.plugin.settings.maxTags).setDynamicTooltip().onChange(async n=>{this.plugin.settings.maxTags=n,await this.plugin.saveSettings()}))}addPromptSection(e){new l.Setting(e).setName(r.t("settings.promptStyle.title")).setDesc(r.t("settings.promptStyle.desc")).addDropdown(t=>(t.addOption("standard",r.t("settings.promptStyle.standard")).addOption("descriptive",r.t("settings.promptStyle.descriptive")).addOption("academic",r.t("settings.promptStyle.academic")).addOption("concise",r.t("settings.promptStyle.concise")).addOption("custom",r.t("settings.promptStyle.custom")).setValue(this.plugin.settings.promptOption).onChange(async n=>{this.plugin.settings.promptOption=n,n!=="custom"?(this.plugin.settings.promptTemplate=f[n],this.display()):this.plugin.settings.promptTemplate===""&&(this.plugin.settings.promptTemplate=f.standard,this.display()),await this.plugin.saveSettings()}),t)),this.plugin.settings.promptOption==="custom"?new l.Setting(e).setName(r.t("settings.customPrompt.title")).setDesc(r.t("settings.customPrompt.desc")).addTextArea(t=>t.setValue(this.plugin.settings.promptTemplate).onChange(async n=>{this.plugin.settings.promptTemplate=n,await this.plugin.saveSettings()})).setClass("ai-tagger-wide-setting"):new l.Setting(e).setName(r.t("settings.currentPrompt.title")).setDesc(r.t("settings.currentPrompt.desc")).addTextArea(t=>(t.setValue(this.plugin.settings.promptTemplate).setDisabled(!0),t)).setClass("ai-tagger-wide-setting")}};var J=require("obsidian");v();var u=class extends J.Modal{constructor(e,t,n,i=!1,s=""){super(e),this.message=t,this.onConfirmCallback=n,this.hasError=i,this.errorMessage=s}onOpen(){let{contentEl:e}=this;if(e.createEl("p",{text:this.message}),this.hasError){e.createEl("p",{text:this.errorMessage}).addClass("ai-tagger-error-message");let n=e.createDiv();n.addClass("ai-tagger-modal-buttons"),n.createEl("button",{text:r.t("modals.settings")}).addEventListener("click",()=>{if(this.close(),"setting"in this.app){let a=this.app;a.setting.open(),a.setting.openTabById("ai-tagger")}}),n.createEl("button",{text:r.t("modals.cancel")}).addEventListener("click",()=>{this.close()})}else{let t=e.createDiv();t.addClass("ai-tagger-modal-buttons"),t.createEl("button",{text:r.t("modals.confirm")}).addEventListener("click",()=>{this.onConfirmCallback(),this.close()}),t.createEl("button",{text:r.t("modals.cancel")}).addEventListener("click",()=>{this.close()})}}onClose(){let{contentEl:e}=this;e.empty()}};h();function C(o){return o.apiKey?o.provider==="custom"&&!o.customEndpoint?{valid:!1,error:"Custom API endpoint not configured. Please add your endpoint URL in the plugin settings."}:{valid:!0}:{valid:!1,error:"API key not configured. Please add your API key in the plugin settings."}}function Y(o){let e=o.provider,t=o.modelName,n=e==="custom"?{name:t}:ce(e,t);return(n==null?void 0:n.name)||t}function ce(o,e){return(A(),z(K)).MODEL_CONFIGS[o].models.find(n=>n.id===e)}var P=class extends y.Plugin{async onload(){await this.loadSettings();let{i18n:e}=await Promise.resolve().then(()=>(v(),M));e.initializeApp(this.app);let t=e.getObsidianLanguage();e.setLanguage(t),this.addRibbonIcon("tag",e.t("ribbon.tooltip"),this.handleRibbonClick.bind(this)).addClass("ai-tagger-ribbon-class"),this.addCommand({id:"tag-current-note",name:e.t("commands.tagCurrent"),checkCallback:this.checkAndTagCurrentNote.bind(this)}),this.addCommand({id:"tag-all-notes",name:e.t("commands.tagAll"),callback:this.confirmAndTagAllNotes.bind(this)}),this.addSettingTab(new T(this.app,this))}onunload(){Promise.resolve().then(()=>(v(),M)).then(({i18n:e})=>{e.cleanup()})}async loadSettings(){this.settings=Object.assign({},L,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}handleRibbonClick(){let e=C(this.settings);if(!e.valid){new u(this.app,"AI tagging configuration error",()=>{},!0,e.error).open();return}this.tagCurrentNote()}checkAndTagCurrentNote(e){if(!this.app.workspace.getActiveViewOfType(y.MarkdownView))return!1;if(e)return!0;let n=C(this.settings);return n.valid?(this.tagCurrentNote(),!0):(new u(this.app,"AI tagging configuration error",()=>{},!0,n.error).open(),!0)}confirmAndTagAllNotes(){let e=C(this.settings);if(!e.valid){new u(this.app,"AI tagging configuration error",()=>{},!0,e.error).open();return}let t=Y(this.settings);new u(this.app,`This will tag all notes in your vault using the ${t} model. This may take a while and consume API credits. Do you want to continue?`,()=>this.tagAllNotes()).open()}async tagCurrentNote(){let e=this.app.workspace.getActiveViewOfType(y.MarkdownView);if(!e||!e.file){p.showNotice("No active note to tag");return}let t=e.file,n=p.showPersistentNotice("Analyzing note content and generating tags...");try{let i=await D(this.app,t,this.settings);i.success?n.setSuccess(`Successfully added tags: ${i.tags.join(", ")}`):n.setError(`Error tagging note: ${i.error}`)}catch(i){console.error("Error tagging note:",i);let s=i instanceof Error?i.message:String(i);n.setError(`Error tagging note: ${s}`)}}async tagAllNotes(){let e=p.showPersistentNotice("Starting to tag notes...");try{let t=await F(this.app,this.settings,(n,i,s,a)=>{e.setProgress(n,i,s,a)});e.setSuccess(`Completed tagging ${t.successful}/${t.total} notes successfully`)}catch(t){console.error("Error during bulk tagging:",t);let n=t instanceof Error?t.message:String(t);e.setError(`Error during bulk tagging: ${n}`)}}};var de=P;

/* nosourcemap */